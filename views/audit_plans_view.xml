<?xml version="1.0" encoding="utf-8"?>
<odoo><data>
        <!-- TODO finish kanban for audit plan -->
<!--
<record id="audit_plans_kanban" model="ir.ui.view">
    <field name="name">audit.plans.kanban</field>
    <field name="model">audit.plans</field>
    <field name="priority">0</field>
    <field name="arch" type="xml">
        <kanban class="o_kanban_dashboard" on_create="">
            <field name="date_start"/>
            <field name="date_end"/>
            <templates>
            <t t-name="kanban-box">
            <div t-attf-class="oe_kanban_global_click">
                <div class="o_kanban_card_content o_visible">
<span><t t-esc="record.name.value"/></span>
<span t-if="record.date_start.raw_value" class="o_value"><t t-esc="record.date_start.value"/></span>                      
<span t-if="record.date_end.raw_value" class="o_value"><t t-esc="record.date_end.value"/></span>
</div>
            </div>
            </t>
            </templates>
        </kanban>
    </field>
</record>
-->

<record id="audit_plans_form" model="ir.ui.view">
    <field name="name">audit.plans.form</field>
    <field name="model">audit.plans</field>
    <field name="priority">20</field>
    <field name="arch" type="xml">
        <form string="Audit Plan">
        <sheet>
            <group>
                <field name="engagement_id"/>
                <field name="procedure_id"/>
            </group>

            <notebook>
            <page string="Procedure">
                <group>
                    <group>
                        <field name="date_plan"/>
                        <field name="date_actual"/>
                        <field name="period"/>
                        <field name="extent"/>
                        <field name="employee"/>
                    </group>
                </group>
                <field name="comment"/>
            </page>
            <page string="Questionnaire">
                <button name="method_name" string="TEST" type="object" class="oe_highlight"/> 
                <field name="questionnaire_ids">
                    <tree string="Questionnari" editable="bottom">
                        <field name="question_id"/>
                        <field name="answer"/>
                    </tree>
                </field>
            </page>
            <page string="Files">
                <field name="file_ids">
                    <tree string="Documents attached" editable="bottom">
                        <field name="name"/>
                    </tree>
                </field>
            </page>
            </notebook>
        </sheet>
        </form>
    </field>
</record>

<record id="audit_plans_tree" model="ir.ui.view">
    <field name="name">audit.plans.tree</field>
    <field name="model">audit.plans</field>
    <field name="arch" type="xml">
        <tree string="Audit Plans">
            <field name="engagement_id"/>
            <field name="procedure_id"/>
            <field name="date_plan"/>
            <field name="date_actual"/>
            <field name="period"/>
            <field name="extent"/>
            <field name="employee"/>
        </tree>
    </field>
</record>

<!-- audit.procedures.files -->
<record id="audit_procedures_files_form" model="ir.ui.view">
    <field name="name">audit.procedures.files.form</field>
    <field name="model">audit.procedures.files</field>
    <field name="priority">20</field>
    <field name="inherit_id" ref="base.view_attachment_form"/>
    <field name="arch" type="xml">
<!-- TODO revome and hide some fields -->
        <form></form>
        <!--        <xpath expr='//form' position='attributes'>
            <attribute name="create">false</attribute>
            <attribute name="edit">false</attribute>
        </xpath>
        -->
    </field>
</record>

<record id="audit_procedures_files_tree" model="ir.ui.view">
    <field name="name">audit.procedures.files.tree</field>
    <field name="model">audit.procedures.files</field>
    <field name="inherit_id" ref="base.view_attachment_tree"/>
    <field name="arch" type="xml">
<!-- TODO revome and hide some fields -->
        <tree></tree>
        <!--<xpath expr='//tree' position='attributes'>
            <attribute name="create">false</attribute>
            <attribute name="edit">false</attribute>
        </xpath>
        -->
    </field>
</record>

<record id="audit_procedures_questionnaire_form" model="ir.ui.view">
    <field name="name">audit.procedures.questionnaire.form</field>
    <field name="model">audit.procedures.questionnaire</field>
    <field name="arch" type="xml">
        <form string="Questionnaire">
            <field name="procedure_id"/>
            <field name="question_id"/>
            <field name="answer"/>
        </form>
    </field>
</record>

<record id="audit_procedures_questionnaire_tree" model="ir.ui.view">
    <field name="name">audit.procedures.questionnaire.tree</field>
    <field name="model">audit.procedures.questionnaire</field>
    <field name="arch" type="xml">
        <tree string="Questionnaire">
            <field name="procedure_id"/>
            <field name="question_id"/>
            <field name="answer"/>
        </tree>
    </field>
</record>

</data></odoo>
